{% extends "crm/base.html" %}
{% load static %}

{% block title %}
    Edit Lead
{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{% static 'customer/styles.css' %}"/>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
{% endblock %}
{% block content %}
    <div class="container mt-5">
        <h1 class="mb-4 text-center">Edit Lead</h1>
        
        <!-- Edit Lead Form -->
        <form method="POST" class="needs-validation mx-auto" novalidate style="width:600px">
            {% csrf_token %}
            <div class="mb-3">
                {{ form.as_p }}
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
        
        <!-- Delete Lead Form -->
        <form method="post" action="{% url 'lead_detail' lead.id %}" class="mt-4 mx-auto">
            {% csrf_token %}
            <input type="hidden" name="_method" value="DELETE">
            <button type="submit" class="btn btn-danger" style="background-color:red">Delete Lead</button>
        </form>
        
        <!-- Back to List Link -->
        <a href="{% url 'lead-view' %}" class="btn btn-secondary mt-3">Back to List</a>

        <!-- Alert Script -->
        {% if request.GET.alert %}
        <script type="text/javascript">
            alert("Lead has been converted to a customer!");
        </script>
        {% endif %}
    </div>
    
{% endblock %}
